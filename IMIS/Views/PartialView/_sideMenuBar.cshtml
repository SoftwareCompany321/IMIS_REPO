@inject IMIS_Service.IMenuService.MenuService _menuService

@{
    var mainlist = await _menuService.menuVM();

    if (mainlist.Count > 0)
    {
        for (int i = 0; i < mainlist.Count; i++)
        {
            <li class="treeview">
                <a>
                    <i class="@mainlist[i].Icon"></i>@mainlist[i].DisplayName

                    <span class="pull-right-container">
                        <i class="fa fa-angle-left pull-right"></i>
                    </span>
                </a>

                @{
                    if (mainlist[i].MenuSubMenu.Count > 0)
                    {
                        <ul class="treeview-menu">

                            @for (int j = 0; j < mainlist[i].MenuSubMenu.Count; j++)
                            {
                                var menu = mainlist[i].MenuSubMenu[j].MenuUrl;

                                <li>
                                    <a href="~/@Url.Content(mainlist[i].MenuSubMenu[j].MenuUrl)">
                                        <i class="@mainlist[i].MenuSubMenu[j].Icon"></i>@mainlist[i].MenuSubMenu[j].DisplayName
                                    </a>
                                </li>

                            }
                        </ul>
                    }
                }
            </li>
        }
    }
}